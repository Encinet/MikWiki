import { usePageFrontmatter, withBase } from "@vuepress/client";
import { isArray, isLinkHttp } from "@vuepress/shared";
import { computed, defineComponent, h } from "vue";
import { RouterLink } from "vue-router";
import { useIconPrefix } from "@theme-hope/composables";
export default defineComponent({
    name: "HomeFeatures",
    setup() {
        const iconPrefix = useIconPrefix();
        const frontmatter = usePageFrontmatter();
        const features = computed(() => {
            if (isArray(frontmatter.value.features))
                return frontmatter.value.features;
            return [];
        });
        const getIcon = (icon = "") => {
            return isLinkHttp(icon)
                ? h("img", { class: "icon", src: icon })
                : icon.startsWith("/")
                    ? h("img", { class: "icon", src: withBase(icon) })
                    : icon
                        ? h("span", {
                            class: ["icon", `${iconPrefix.value}${icon}`],
                        })
                        : null;
        };
        return () => features.value.length
            ? h("div", { class: "features" }, frontmatter.value.features?.map((feature) => {
                const children = [
                    getIcon(feature.icon),
                    h("h2", feature.title),
                    h("p", feature.details),
                ];
                return feature.link
                    ? h(RouterLink, {
                        class: "feature link",
                        to: feature.link,
                        role: "navigation",
                    }, () => children)
                    : h("div", { class: "feature" }, children);
            }))
            : null;
    },
});
//# sourceMappingURL=HomeFeatures.js.map