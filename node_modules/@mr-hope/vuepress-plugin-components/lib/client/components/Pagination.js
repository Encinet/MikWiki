import{useLocaleConfig as e}from"@mr-hope/vuepress-shared/lib/client";import{defineComponent as a,ref as t,computed as l,onMounted as n,h as r}from"vue";import{useRoute as u,useRouter as i}from"vue-router";import"../styles/pagination.scss";var v=a({name:"Pagination",props:{total:{type:Number,default:10},perPage:{type:Number,default:10},currentPage:{type:Number,default:1}},emits:["updateCurrentPage"],setup(a,{emit:v}){const o=u(),s=i(),p=e(PAGINATION_LOCALES),g=t(""),c=l((()=>Math.ceil(a.total/a.perPage))),d=l((()=>Boolean(c.value)&&1!==c.value)),m=l((()=>!(c.value<7)&&a.currentPage>4)),P=l((()=>!(c.value<7)&&a.currentPage<c.value-3)),b=l((()=>{const{currentPage:e}=a;let t=1,l=c.value;const n=[];c.value>=7&&(e<=4&&e<c.value-3?(t=1,l=5):e>4&&e>=c.value-3?(l=c.value,t=c.value-4):c.value>7&&(t=e-2,l=e+2));for(let e=t;e<=l;e++)n.push(e);return n})),f=e=>{const a={...o.query};a.page===e.toString()||1===e&&!a.page||(v("updateCurrentPage",e),1===e?delete a.page:a.page=e.toString(),s.push({path:o.path,query:a}))},y=e=>{const a=parseInt(e);a<=c.value&&a>0?f(a):alert(p.value.errorText.replace(/\$page/g,c.value.toString()))};return n((()=>{const{index:e}=o.query;f(e?Number(e):1)})),()=>r("div",{class:"pagination-wrapper"},d.value?r("div",{class:"pagination-list"},[r("div",{class:"btn-group"},[a.currentPage>1?r("div",{class:"prev",role:"navigation",unselectable:"on",onClick:()=>f(a.currentPage-1)},p.value.prev):null,...m.value?[r("div",{role:"navigation",onClick:()=>f(1)},1),r("div",{class:"ellipsis"},"...")]:[],...b.value.map((e=>r("div",{class:{active:a.currentPage===e},role:"navigation",onClick:()=>f(e)},e))),...P.value?[r("div",{class:"ellipsis"},"..."),r("div",{role:"navigation",onClick:()=>f(c.value)},c.value)]:[],a.currentPage<c.value?r("div",{class:"next",role:"navigation",unselectable:"on",onClick:()=>f(a.currentPage+1)},p.value.next):null]),r("div",{class:"navigate-wrapper"},[r("label",{for:"navigation-text"},`${p.value.navigate}: `),r("input",{id:"navigation-text",value:g.value,onInput:({target:e})=>{g.value=e.value},onKeydown:e=>{"Enter"===e.key&&(e.preventDefault(),y(g.value))}}),r("button",{class:"navigate",role:"navigation",title:p.value.button,onClick:()=>y(g.value)},p.value.button)])]):[])}});export{v as default};
//# sourceMappingURL=Pagination.js.map
