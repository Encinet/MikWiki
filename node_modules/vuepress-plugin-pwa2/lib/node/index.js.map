{"version":3,"file":"index.js","sources":["../../src/node/locales.ts","../../src/node/logger.ts","../../src/node/genServiceWorker.ts","../../src/node/plugin.ts","../../src/node/genManifest.ts","../../src/node/injectHead.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["pwaLocales","install","iOSInstall","cancel","close","prevImage","nextImage","desc","feature","explain","update","logger","Logger","imageFilter","outDir","maxsize","manifestEntries","warnings","manifest","imageExtensions","entry","some","ext","url","endsWith","stats","fs","statSync","path","resolve","size","push","Math","ceil","pwaPlugin","options","app","base","async","dir","siteData","userManifestPath","source","userManifestJSONPath","optionManifest","userManifest","JSON","parse","existsSync","readFile","name","title","short_name","description","lang","getRootLang","start_url","scope","display","theme_color","themeColor","background_color","orientation","prefer_related_applications","getManifest","addViteOptimizeDeps","env","isDev","useCustomDevServer","stringify","useSassPalettePlugin","id","head","metaKeys","linkKeys","forEach","item","rel","fallBackIcon","setLink","href","more","includes","setMeta","content","favicon","icons","length","src","map","icon","type","sizes","replace","crossorigin","apple","statusBarColor","maskIcon","color","msTile","image","injectLinkstoHead","config","define","PWA_LOCALES","getLocales","locales","SW_PATH","swPath","clientAppRootComponentFiles","popupComponent","__dirname","clientAppSetupFiles","load","manifestPath","dest","writeJSON","flag","succeed","chalk","cyan","relative","process","cwd","genManifest","swDest","destDir","globPatterns","cacheHTML","cachePic","generateSW","globDirectory","cacheId","additionalManifestEntries","cleanupOutdatedCaches","clientsClaim","maximumFileSizeToCacheInBytes","maxSize","manifestTransforms","maxPicSize","generateSWConfig","then","count","info","toFixed","warn","warning","join","error","blue","genServiceWorker","showInstall"],"mappings":"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"}