import { BasePageFrontMatter, Author } from '@mr-hope/vuepress-shared';
import { LocaleConfig, Plugin, PluginConfig } from '@vuepress/core';
import { WalineLocale, WalineOptions as WalineOptions$1 } from '@waline/client';

interface CommentPluginFrontmatter extends BasePageFrontMatter {
    /**
     * 是否启用评论
     *
     * Whether Enable Comment
     *
     * @default true
     */
    comment?: boolean;
    /**
     * @description Only available when using valine
     *
     * 是否启用访问量
     *
     * Whether enable pageviews
     *
     * @default true
     */
    pageview?: boolean;
}

interface BaseCommentOptions {
    /**
     * Default author
     *
     * 默认作者
     */
    author?: Author;
    /**
     * Whether enable comment by default
     *
     * 是否默认启用评论
     *
     * @default true
     */
    comment?: boolean;
    /**
     * The delay of dom operation, in ms
     *
     * If the theme you are using has a switching animation, it is recommended to configure this option to `Switch animation duration + 200`
     *
     * 进行 DOM 操作的延时，单位 ms
     *
     * 如果你使用的主题有切换动画，建议配置此选项为 `切换动画时长 + 200`
     *
     * @default 500
     */
    delay?: number;
}

interface DisableCommentOptions extends BaseCommentOptions {
    type?: "none";
    comment: never;
}

declare type WalineLocaleData = Partial<WalineLocale>;
declare type WalineLocaleConfig = LocaleConfig<WalineLocaleData>;
interface WalineOptions extends BaseCommentOptions, Omit<WalineOptions$1, "el" | "visitor"> {
    type: "waline";
    /**
     * 是否启用访问量
     *
     * Whether enable page views count by default
     *
     * @default true
     */
    pageviews?: boolean;
    /**
     * Locale config for waline
     */
    walineLocales?: LocaleConfig<WalineLocaleData>;
}

/**
 * 评论选项
 *
 * Comment options
 */
declare type CommentOptions = WalineOptions | DisableCommentOptions;

/** Comment Plugin */
declare const commentPlugin: Plugin<CommentOptions>;
declare const comment: (options: CommentOptions | false) => PluginConfig<CommentOptions>;

export { CommentOptions, CommentPluginFrontmatter, WalineLocaleConfig, WalineLocaleData, WalineOptions, comment, commentPlugin, commentPlugin as default };
